@model LoginViewModel
@using Microsoft.AspNetCore.Mvc.ModelBinding
@inject proekt.Services.TranslationService Loc
@{
    ViewData["Title"] = Loc.T("Login") + " - " + Loc.T("EHRSystem");
}

<div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #f5f7ff 0%, #ffffff 100%); padding: 20px;">
    <div style="width: 100%; max-width: 500px; background: white; border-radius: 1rem; border: 1px solid #e5e7eb; padding: 3rem; box-shadow: 0 4px 6px rgba(0,0,0,0.07);">
        
        <!-- Logo Section -->
        <div style="text-align: center; margin-bottom: 2rem;">
            <div style="width: 60px; height: 60px; background: #0052CC; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 2L20 14H32L22 20L26 32L16 26L6 32L10 20L0 14H12L16 2Z" fill="white"/>
                </svg>
            </div>
            <h1 style="font-size: 1.5rem; font-weight: 700; margin: 0; color: #000;">@Loc.T("EHRSystem")</h1>
            <p style="color: #666; margin: 0.5rem 0 0 0; font-size: 0.95rem;">@Loc.T("EHRDescription")</p>
        </div>

        <!-- Tabs -->
        <div style="display: flex; gap: 1rem; margin-bottom: 2rem; border-bottom: 1px solid #e5e7eb;">
            <button class="active" style="flex: 1; padding: 1rem; text-align: center; background: none; border: none; color: #000; font-weight: 600; border-bottom: 2px solid #0052CC; cursor: pointer;">
                @Loc.T("Login")
            </button>
            <a asp-area="" asp-controller="Home" asp-action="Register" style="flex: 1; padding: 1rem; text-align: center; color: #999; font-weight: 600; border-bottom: 2px solid transparent; text-decoration: none; display: flex; align-items: center; justify-content: center;">
                Регистрация
            </a>
        </div>

        <!-- Error Messages -->
        @if (!ViewData.ModelState.IsValid && ViewData.ModelState.Values.Any(x => x.Errors.Count > 0))
        {
            <div style="background: #fee; padding: 0.75rem; border-radius: 0.375rem; margin-bottom: 1.5rem; color: #c33;">
                @foreach (var error in ViewData.ModelState.Values.SelectMany(x => x.Errors))
                {
                    <p style="margin: 0; font-size: 0.9rem;">@error.ErrorMessage</p>
                }
            </div>
        }

        <!-- Form -->
        <form method="post" style="display: flex; flex-direction: column; gap: 1.5rem;">
            <div>
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #000; font-size: 0.95rem;">@Loc.T("Email")</label>
                <input asp-for="Email" type="email" placeholder="doctor@example.com" style="width: 100%; padding: 0.75rem 1rem; border: 1px solid #e5e7eb; border-radius: 0.375rem; font-family: inherit; font-size: 0.95rem; box-sizing: border-box;">
            </div>

            <div>
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #000; font-size: 0.95rem;">@Loc.T("Password")</label>
                <input asp-for="Password" type="password" style="width: 100%; padding: 0.75rem 1rem; border: 1px solid #e5e7eb; border-radius: 0.375rem; font-family: inherit; font-size: 0.95rem; box-sizing: border-box;">
            </div>

            <button type="submit" style="width: 100%; padding: 0.75rem 1rem; background: #0052CC; color: white; border: none; border-radius: 0.375rem; font-weight: 600; cursor: pointer; font-size: 1rem;">
                @Loc.T("Login")
            </button>
        </form>

        <!-- Help Text -->
        <div style="margin-top: 1.5rem; text-align: center; color: #666; font-size: 0.9rem;">
            <p style="margin: 0;">@Loc.T("NoAccountRegister") <a asp-area="" asp-controller="Home" asp-action="Register" style="color: #0052CC; text-decoration: none; font-weight: 600;">@Loc.T("Register")</a></p>
        </div>

        <!-- Demo Info -->
            <div style="margin-top: 1.5rem; padding: 1rem; background: #f0f4ff; border-radius: 0.375rem; border-left: 3px solid #0052CC;">
            <p style="margin: 0; font-size: 0.85rem; color: #0052CC; font-weight: 600;">@Loc.T("DemoAccount")</p>
            <p style="margin: 0.25rem 0 0 0; font-size: 0.85rem; color: #666;">@Loc.T("DemoEmail")</p>
            <p style="margin: 0.25rem 0 0 0; font-size: 0.85rem; color: #666;">@Loc.T("DemoPassword")</p>
        </div>
    </div>
</div>
