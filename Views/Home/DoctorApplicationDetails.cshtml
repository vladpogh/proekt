@inject proekt.Services.TranslationService Loc
@model proekt.Models.DoctorApplication

@{
    ViewData["Title"] = Loc.T("Application") + " #" + Model.Id;
}

<h2>@Loc.T("Application") #@Model.Id</h2>

<div class="card p-3">
    <div><b>@Loc.T("UserId"):</b> @Model.UserId</div>
    <div><b>@Loc.T("Submitted"):</b> @Model.CreatedAt.ToString("g")</div>
    <div class="mt-2"><b>@Loc.T("About"):</b>
        <p>@Model.About</p>
    </div>
    <div class="mt-2"><b>@Loc.T("EmploymentContract"):</b>
        @if (!string.IsNullOrEmpty(Model.EmploymentContractPath))
        {
            <div><a href="@Model.EmploymentContractPath" target="_blank">@Loc.T("ViewFile")</a></div>
        }
        else { <div class="text-muted">@Loc.T("NotProvided")</div> }
    </div>
    <div class="mt-2"><b>@Loc.T("IDCard"):</b>
        @if (!string.IsNullOrEmpty(Model.IdCardPath))
        {
            <div><a href="@Model.IdCardPath" target="_blank">@Loc.T("ViewFile")</a></div>
        }
        else { <div class="text-muted">@Loc.T("NotProvided")</div> }
    </div>
    <div class="mt-2"><b>@Loc.T("MedicalLicense"):</b>
        @if (!string.IsNullOrEmpty(Model.MedicalLicensePath))
        {
            <div><a href="@Model.MedicalLicensePath" target="_blank">@Loc.T("ViewFile")</a></div>
        }
        else { <div class="text-muted">@Loc.T("NotProvided")</div> }
    </div>

    <div class="mt-3">
        <form asp-action="ApproveDoctorApplication" method="post" class="d-inline">
            <input type="hidden" name="id" value="@Model.Id" />
            <input type="text" name="adminComment" placeholder="@Loc.T("CommentOptional")" class="form-control d-inline w-auto" />
            <button type="submit" class="btn btn-success btn-sm ms-2">@Loc.T("Approve")</button>
        </form>

        <form asp-action="RejectDoctorApplication" method="post" class="d-inline ms-2">
            <input type="hidden" name="id" value="@Model.Id" />
            <input type="text" name="adminComment" placeholder="@Loc.T("CommentOptional")" class="form-control d-inline w-auto" />
            <button type="submit" class="btn btn-danger btn-sm ms-2">@Loc.T("Reject")</button>
        </form>
    </div>
</div>
